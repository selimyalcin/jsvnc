<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head>
<title>Bosh-Technique-Like Echo-Client</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<link rel="stylesheet" type="text/css" href="css/basic.css" media="screen" />
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/hobs.js"></script>
</head>
<body>

<div class="panel">
  
  <div id="bosh_connect" class="btn icon">Connect</div>
  <div id="bosh_disconnect" class="btn icon">Disconnect</div>  
  <input id="bosh_message" type="text" value="echo this" /> <div id="bosh_send" class="btn icon">Send Message</div>
  
</div>

<p>&nbsp;</p><p>&nbsp;</p>
<div id="messages" style="width: 400px; height: 300px; background-color: blue;"></div>

<script type="text/javascript">
  
$(document).ready(function(){

  $('#bosh_connect').click( function() {
    Hobs.connect('http', 'wstest.local', '8080');
  });
  
  $('#bosh_disconnect').click( function () {
    $('#messages').append(JSON.stringify(Hobs.output_queue));
    Hobs.close();
    
  });
  
  $('#bosh_send').click( function () {
    
    //var big = $('#big_data').val();
    var big = $('#big_data').val();
    var small = $('#bosh_message').val();
    for(var i=0;i<10;i++) {
      //Hobs.send(small);
      //Hobs.send(big);
      Hobs.send(big);
    }
  });

});

</script>

<input type="text" id="big_data" value="
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque aliquet, felis vel accumsan tempus, diam orci venenatis risus, quis cursus ligula eros sit amet metus. Suspendisse massa orci, facilisis ac dignissim ac, rhoncus ut nisl. Morbi pharetra auctor nulla ut vehicula. Duis vel metus nulla, vitae tempor urna. In ac mi vel ipsum condimentum laoreet et sed massa. Integer posuere, sem sollicitudin luctus gravida, magna est egestas est, at volutpat lectus ligula eu tortor. Nullam tincidunt magna eget arcu rhoncus id mattis risus placerat. Curabitur interdum venenatis ligula eget feugiat. Nunc quam erat, ullamcorper a commodo at, scelerisque vitae massa. Nunc velit justo, viverra et tempor ut, posuere eu ipsum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin fermentum tincidunt cursus. Aenean vel dui eget magna luctus pellentesque. Integer sed lorem quis turpis commodo porttitor. Cras eu ipsum vitae erat congue faucibus at luctus odio. Mauris mi erat, ullamcorper blandit hendrerit sit amet, placerat ut risus. Suspendisse in cursus massa. Fusce blandit imperdiet diam in interdum. Aenean nec orci urna. Suspendisse adipiscing est ac erat ultricies imperdiet.

Cras vel lacus eget ligula fringilla consectetur. Praesent sollicitudin nulla ut quam faucibus rutrum. Aliquam condimentum, nunc quis suscipit pulvinar, nibh erat dapibus lorem, quis imperdiet neque magna at urna. Morbi dolor quam, cursus a commodo ut, sollicitudin at erat. Aliquam cursus turpis vulputate purus vehicula quis scelerisque orci iaculis. In non diam felis, vel consequat ante. Nam adipiscing pharetra sodales. Curabitur eros ligula, aliquam in ultricies non, hendrerit eu ligula. Donec lorem ipsum, lacinia vitae porttitor non, mollis quis arcu. Donec sit amet libero a massa lobortis varius varius quis purus. Mauris sapien felis, tincidunt tristique accumsan sed, facilisis at nisl. Maecenas pretium bibendum lorem, fringilla pellentesque diam dignissim vel. Morbi tincidunt, arcu sed dignissim fringilla, metus dui sagittis justo, sed laoreet nisi augue quis lorem.

Nullam nulla massa, sollicitudin eu fringilla quis, varius non ante. Nunc nec hendrerit lorem. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Sed suscipit, purus sit amet ullamcorper ornare, urna risus mollis velit, non rhoncus magna diam sed elit. Vivamus et dolor purus. Sed ut orci sit amet velit tempus sagittis sit amet molestie turpis. Donec vehicula mauris ac odio laoreet feugiat. Nunc quis magna nec nunc eleifend cursus. Suspendisse semper pulvinar elit, at posuere nisl placerat sit amet. Mauris non augue ligula, eget imperdiet est. Morbi sed nulla ipsum, nec eleifend sem.

Curabitur facilisis viverra risus, nec lobortis urna pellentesque in. Praesent sollicitudin ante ut diam sagittis bibendum. Fusce rhoncus magna sodales leo sagittis non dictum mauris elementum. Mauris porta bibendum consectetur. Integer id tristique lectus. Quisque non porttitor augue. Quisque quis urna nisl, a ornare sem. Integer lacinia ipsum id erat auctor vitae sodales elit auctor. Aenean in laoreet diam. Nam urna sem, ultrices a rhoncus et, euismod at libero. Curabitur elementum, sapien id convallis luctus, dolor libero elementum felis, eget ultrices quam purus vel sem.

Praesent diam libero, pharetra in aliquet in, hendrerit eget justo. Donec fringilla turpis vitae mauris volutpat sed auctor tellus sodales. Mauris augue quam, mollis dictum commodo in, elementum ut risus. Quisque ultricies, nunc vitae convallis hendrerit, risus ligula varius ante, vel tempor dolor dui sit amet diam. Nulla condimentum tempus purus, in tempor orci ultrices ut. Praesent placerat hendrerit gravida. Vestibulum sapien felis, tincidunt ac vulputate venenatis, commodo eget eros. Mauris dictum, mauris gravida faucibus rhoncus, mi orci hendrerit augue, convallis interdum metus dolor quis orci. Suspendisse vulputate blandit volutpat. Proin at nisl lectus, eu varius velit. Suspendisse potenti. Cras interdum nunc vel dui rhoncus id rutrum dolor volutpat. Phasellus non leo eros. Vestibulum id rhoncus elit.

Suspendisse ullamcorper dolor vitae tortor adipiscing dictum. Quisque viverra nunc ut elit ornare eu iaculis arcu ornare. Phasellus cursus suscipit enim, quis molestie purus aliquam eu. Vestibulum feugiat mauris vitae justo sollicitudin pharetra. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Maecenas lectus ante, scelerisque id dignissim eu, sollicitudin id magna. Sed ante quam, fermentum sed lobortis eget, dignissim quis erat. Nunc blandit feugiat orci, nec imperdiet quam varius et. Ut ut lacus et metus porta scelerisque vitae sit amet elit. Aliquam sit amet blandit sem.

Nunc mauris magna, viverra non eleifend vitae, consequat eu metus. Fusce mauris mauris, scelerisque sit amet facilisis et, malesuada tempus orci. Morbi vel molestie odio. Nullam id mi a orci gravida semper a a quam. Curabitur non posuere.   
" />

</body>
</html>